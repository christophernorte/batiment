<?xml version="1.0" encoding="utf-8"?>
<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping http://doctrine-project.org/schemas/orm/doctrine-mapping.xsd">
	<entity name="Norte\Batiment\CoreBundle\Beans\Entity\Photo" table="Photo">
		<indexes>
			<index name="idrubrique_idx" columns="idrubrique"/>
		</indexes>
		<id name="id" type="integer" column="id">
			<generator strategy="IDENTITY"/>
		</id>
		<field name="url" type="string" column="url" length="200" nullable="true"/>
		<field name="commentaire" type="text" column="commentaire" nullable="true"/>
		<field name="isaffiche" type="boolean" column="isaffiche" nullable="false"/>
		<field name="createdAt" type="datetime" column="created_at" nullable="false"/>
		<field name="updatedAt" type="datetime" column="updated_at" nullable="false"/>
		<many-to-one field="idrubrique" target-entity="Rubrique" inversed-by="photos">
			<join-columns>
				<join-column name="idrubrique" referenced-column-name="id" nullable="false"/>
			</join-columns>
		</many-to-one>
		<one-to-many target-entity="Norte\Batiment\CoreBundle\Beans\Entity\Commentaire" mapped-by="idphoto" field="userCommentaire">
			<order-by>
				<order-by-field name="date" direction="DESC" />
			</order-by>
		</one-to-many>
	</entity>
</doctrine-mapping>
